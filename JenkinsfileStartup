pipeline {
    agent any

    stages {
       
		stage ('Startup Arachni Docker Container '){
					steps{
						startupArachni()
					} 
		}
		stage ('Startup Sonar server '){
					steps{
						startupArachni()
					} 
		}
		
       
    }
	
}


def startupArachni() {
   sh 'docker start arachni ||  docker run -d \
   -p 222:22 \
   -p 7331:7331 \
   -p 9292:9292 \
   --name arachni \
  arachni/arachni:latest   '
}

def startupArachni() {
   sh '/usr/bin/sonar start'
}


